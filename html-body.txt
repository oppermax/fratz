</head>
<body>
    <!-- Terminal Authentication Modal -->
    <div id="terminal-modal" class="hidden">
        <div class="terminal-window">
            <div class="terminal-text" id="terminal-content">
                <p>> initializing authentication sequence...</p>
                <p>> username: <span class="username" id="terminal-username"></span></p>
                <p>> validating credentials...</p>
            </div>
            <div class="terminal-loading" id="terminal-loading-section">
                <div class="loading-bar-container">
                    <div class="loading-bar-fill"></div>
                </div>
            </div>
            <div class="terminal-status" id="terminal-status-section" style="display: none;">
                <p id="terminal-status-text">âœ“ authentication successful</p>
            </div>
            <div class="terminal-input-section" id="terminal-input-section" style="display: none;">
                <p id="terminal-prompt">>></p>
                <input 
                    type="text" 
                    id="terminal-input" 
                    autocomplete="off"
                    placeholder=""
                    onkeypress="handleTerminalInput(event)"
                >
            </div>
        </div>
    </div>

    <!-- Maus Package Manager Modal -->
    <div id="maus-pm-modal" class="hidden">
        <div class="terminal-window">
            <div class="terminal-text" id="maus-terminal-content">
                <p style="color: #00ff00;">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</p>
                <p style="color: #00ff00;">â•‘         ğŸ­ maus package manager    â•‘</p>
                <p style="color: #00ff00;">â•‘         v1.0.0 (heart edition)     â•‘</p>
                <p style="color: #00ff00;">â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</p>
                <p style="color: #00ff00;">type 'help' for commands</p>
            </div>
            <div class="terminal-input-section" id="maus-input-section">
                <p id="maus-prompt">[maus]$ </p>
                <input 
                    type="text" 
                    id="maus-input" 
                    autocomplete="off"
                    placeholder=""
                    onkeypress="handleMausInput(event)"
                >
            </div>
        </div>
    </div>
    <div id="r-cli-modal" class="hidden">
        <div class="rstudio-window">
            <div class="rstudio-header">
                <span class="rstudio-logo">ğŸ“Š</span>
                <span>RStudio - Love Analytics</span>
            </div>
            <div class="rstudio-body">
                <div class="rstudio-left">
                    <div class="rstudio-panel" style="flex: 1;">
                        <div class="rstudio-panel-header">ğŸ’˜ love_script.R</div>
                        <div class="rstudio-script" id="r-script-content">
                            <div class="rstudio-script-line"><span class="comment"># Welcome to the Love Analytics Challenge! ğŸ’•</span></div>
                            <div class="rstudio-script-line"><span class="comment"># Your mission: Analyze our relationship data</span></div>
                            <div class="rstudio-script-line"></div>
                            <div class="rstudio-script-line"><span class="comment"># Step 1: Load the romantic dataset</span></div>
                            <div class="rstudio-script-line"><span class="keyword">library</span>(<span class="string">"love"</span>)</div>
                            <div class="rstudio-script-line"><span class="function">load_heart_data</span>()</div>
                            <div class="rstudio-script-line"></div>
                            <div class="rstudio-script-line"><span class="comment"># Step 2: Explore the relationship patterns</span></div>
                            <div class="rstudio-script-line"><span class="comment"># Hint: What connects two hearts? ğŸ¤”</span></div>
                        </div>
                    </div>
                    <div class="rstudio-panel rstudio-console">
                        <div class="rstudio-panel-header">Console</div>
                        <div class="rstudio-console-content" id="r-terminal-content">
                            <p>> <span class="keyword">library</span>(love)</p>
                            <p class="r-comment">âœ¨ Welcome to Love Analytics v1.0 âœ¨</p>
                            <p class="r-comment">ğŸ’• Type commands in the console below ğŸ’•</p>
                            <p class="r-comment">ğŸ’¡ Hint: Start with load_heart_data()</p>
                        </div>
                        <div class="rstudio-console-input">
                            <span class="rstudio-prompt">></span>
                            <input 
                                type="text" 
                                id="r-input" 
                                autocomplete="off"
                                placeholder=""
                                onkeypress="handleRInput(event)"
                            >
                        </div>
                    </div>
                </div>
                <div class="rstudio-right">
                    <div class="rstudio-panel rstudio-environment">
                        <div class="rstudio-panel-header">Environment</div>
                        <div class="rstudio-panel-content" id="r-environment">
                            <div class="rstudio-env-item">
                                <span class="rstudio-env-name">user</span>: "<span id="r-user-name">maus</span>"
                            </div>
                            <div class="rstudio-env-item">
                                <span class="rstudio-env-name">session</span>: "valentine_2026"
                            </div>
                        </div>
                    </div>
                    <div class="rstudio-panel rstudio-files">
                        <div class="rstudio-panel-header">Files</div>
                        <div class="rstudio-panel-content">
                            <div class="rstudio-file-item">ğŸ“„ love_script.R</div>
                            <div class="rstudio-file-item">ğŸ“Š heart_data.csv</div>
                            <div class="rstudio-file-item">ğŸ’Œ love_letter.txt</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="xp-error-modal" class="hidden">
        <div class="xp-error-window">
            <div class="xp-title-bar">
                <span>mausbert.exe</span>
                <button class="xp-close-btn" onclick="closeXPError()">Ã—</button>
            </div>
            <div class="xp-error-content">
                <div class="xp-error-icon">âš ï¸</div>
                <div class="xp-error-text">
                    <p><strong>error 404 mausbert.exe not found</strong></p>
                    <p>the name you entered is not recognized.</p>
                </div>
            </div>
            <div class="xp-error-buttons">
                <button onclick="closeXPError()">OK</button>
            </div>
        </div>
    </div>

    <!-- Floating hearts background -->
    <div id="hearts-container"></div>

    <!-- Main Container -->
    <div class="container">
        <!-- ========== STATE 1: COUNTDOWN ========== -->
        <div id="countdown-state">
            <h1>a special surprise awaits</h1>
            <p>something magical is coming...</p>
            <div class="countdown-timer">
                <div class="time-unit">
                    <div id="days">0</div>
                    <div class="time-label">Days</div>
                </div>
                <div class="time-unit">
                    <div id="hours">0</div>
                    <div class="time-label">Hours</div>
                </div>
                <div class="time-unit">
                    <div id="minutes">0</div>
                    <div class="time-label">Minutes</div>
                </div>
                <div class="time-unit">
                    <div id="seconds">0</div>
                    <div class="time-label">Seconds</div>
                </div>
            </div>
            <div class="wait-message">wait for it...</div>
        </div>

        <!-- ========== STATE 2: SCAVENGER HUNT ========== -->
        <div id="hunt-state">
            <div id="levels-container">
                <!-- Levels will be dynamically inserted here -->
            </div>
        </div>

        <!-- ========== STATE 3: GRAND FINALE ========== -->
        <div id="finale-state">
            <div class="romantic-card">
                <div class="card-title">my dearest</div>
                <div class="card-letter" id="love-letter">
                    <!-- [INSERT YOUR LOVE LETTER HERE] -->
                    <!-- This is where your personal message goes. Replace this placeholder with your heartfelt message. -->
                    <!-- You can use multiple paragraphs, and it will scroll if too long. -->
                </div>
                <button class="hug-button" onclick="sendVirtualHug()">send a virtual hug</button>
            </div>
        </div>
    </div>

